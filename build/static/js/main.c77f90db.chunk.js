/*!

=========================================================
* Light Bootstrap Dashboard React - v2.0.0
=========================================================

* Product Page: https://www.creative-tim.com/product/light-bootstrap-dashboard-react
* Copyright 2020 Creative Tim (https://www.creative-tim.com)

* Coded by Creative Tim

=========================================================

* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

*/
/*! For license information please see main.c77f90db.chunk.js.LICENSE.txt */
(this["webpackJsonplight-bootstrap-dashboard-react"]=this["webpackJsonplight-bootstrap-dashboard-react"]||[]).push([[0],{66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},87:function(e,t,a){"use strict";a.r(t);var r=a(46),n=a(0),s=a.n(n),c=a(17),o=a.n(c),i=a(30),l=a(9),b=(a(65),a(66),a(67),a(68),a(69),a(7)),d=a(98),j=a(91),h=a(90),u=a(97),O=a(15),f=a(22),m=a(23),x=a(27),p=a(26),v=a(89),y=a(95),k=a(92),g=a(59),_=a(99),C=a(96),L=a(93),N=a(94),w=a(60),S=a(1);function B(e){return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)("tr",{children:[Object(S.jsx)("td",{children:e.list.first_name}),Object(S.jsxs)("td",{children:[" ",e.list.last_name]}),Object(S.jsx)("td",{children:Object(S.jsx)(v.a,{size:"sm",className:"mb-2",children:Object(S.jsx)(h.a,{variant:"success",children:"View Rent Records"})})})]})})}var F=function(e){Object(x.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(f.a)(this,a),(r=t.call(this,e)).create_library=function(e,t,a){var n=[];return n.push({library_name:e,location:t,owner:a}),fetch("https://codingchallenge.jabezonline.net/laravel/public/api/libraries/store",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({library:n})}).then((function(e){return e.json()})).then((function(e){r.load_library()})).catch((function(e){console.error(e)}))},r.seachEvents=function(e){var t=e.target.value.toLowerCase();r.setState({searchQuery:t},(function(){return r.filterList()}))},r.rent_books=function(e,t,a){var n=[];return n.push({book_id:e,customer_id:t,return_date:a}),fetch("https://codingchallenge.jabezonline.net/laravel/public/api/rental/store",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({rents:n})}).then((function(e){return e.json()})).then((function(t){var a=r.state.books.findIndex((function(t){return t.id===e}));r.state.books[a].status=1,r.filterList()})).catch((function(e){console.error(e)}))},r.open_library_form=function(e){r.setState({selectedLibraryBooks:[]}),fetch("https://codingchallenge.jabezonline.net/laravel/public/api/books/getbooks/"+e.id).then((function(e){return e.json()})).then((function(t){var a,n=Object(O.a)(t);try{for(n.s();!(a=n.n()).done;){var s=a.value;r.state.selectedLibraryBooks.push(s)}}catch(c){n.e(c)}finally{n.f()}r.setState({selectedLibraryBooks:r.state.selectedLibraryBooks,showLibraryForm:!r.state.showLibraryForm,selectedLibrary:e})}),(function(e){}))},r.load_customers=function(){fetch("https://codingchallenge.jabezonline.net/laravel/public/api/customers").then((function(e){return e.json()})).then((function(e){var t,a=Object(O.a)(e);try{for(a.s();!(t=a.n()).done;){var n=t.value;r.state.customers.push(n)}}catch(s){a.e(s)}finally{a.f()}r.setState({customers:r.state.customers},r.filterList)}),(function(e){r.setState({isLoaded:!0,error:e})}))},r.load_library=function(){r.setState({libraries:[]}),fetch("https://codingchallenge.jabezonline.net/laravel/public/api/libraries").then((function(e){return e.json()})).then((function(e){var t,a=Object(O.a)(e);try{for(a.s();!(t=a.n()).done;){var n=t.value;r.state.libraries.push(n)}}catch(s){a.e(s)}finally{a.f()}r.setState({libraries:r.state.libraries},r.filterList)}),(function(e){r.setState({isLoaded:!0,error:e})}))},r.state={customers:[],libraries:[],books:[],filteredBooks:[],selectedLibrary:[],selectedLibraryBooks:[],searchQuery:"",showLibraryForm:!1},r}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.load_customers()}},{key:"filterList",value:function(){var e=this.state.customers,t=this.state.searchQuery;e=e.filter((function(e){return-1!=e.first_name.toLowerCase().indexOf(t)})),this.setState({filteredBooks:e})}},{key:"render",value:function(){var e=this;return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(j.a,{fluid:!0,children:Object(S.jsx)(k.a,{children:Object(S.jsxs)(g.a,{md:"12",children:[Object(S.jsxs)(N.a,{className:"mb-3",children:[Object(S.jsx)(w.a,{placeholder:"Search by Name","aria-label":"","aria-describedby":"basic-addon2",onChange:this.seachEvents.bind(this)}),Object(S.jsx)(h.a,{variant:"outline-secondary",id:"button-addon2",onClick:function(){e.filterList()},children:"Search"})]}),Object(S.jsxs)(_.a,{className:"strpied-tabled-with-hover",children:[Object(S.jsx)(_.a.Header,{children:Object(S.jsx)(v.a,{size:"sm",className:"mb-2 create-new-books",children:Object(S.jsx)(h.a,{className:"btn-fill pull-right",type:"submit",variant:"info",children:"Add New Renter"})})}),Object(S.jsx)(_.a.Body,{className:"table-full-width table-responsive px-0",children:Object(S.jsxs)(L.a,{className:"table-hover table-striped",children:[Object(S.jsx)("thead",{children:Object(S.jsxs)("tr",{children:[Object(S.jsx)("th",{className:"border-0",children:"First name"}),Object(S.jsx)("th",{className:"border-0",children:"Last name"})]})}),Object(S.jsx)("tbody",{children:this.state.filteredBooks.map((function(t){return Object(S.jsx)(B,{list:t,open_library_form:e.open_library_form})}))})]})})]})]})})})})}}]),a}(s.a.Component);function z(e){var t=new Date(e.list.return_date);return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)("tr",{children:[Object(S.jsx)("td",{children:e.list.books}),Object(S.jsx)("td",{children:e.list.description}),Object(S.jsx)("td",{children:e.list.author_fname+" "+e.list.author_lname}),0==e.list.status?Object(S.jsx)("td",{children:"IN"}):Object(S.jsxs)("td",{children:["Return on ",t.toDateString()]}),Object(S.jsx)("td",{})]})})}function T(e){return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)("tr",{children:[Object(S.jsx)("td",{children:e.list.library_name}),Object(S.jsx)("td",{children:e.list.location}),Object(S.jsx)("td",{children:e.list.owner}),Object(S.jsx)("td",{children:Object(S.jsx)(v.a,{size:"sm",className:"mb-2",children:Object(S.jsx)(h.a,{variant:"success",onClick:function(){e.open_library_form(e.list)},children:"View Books"})})})]})})}function D(e){var t=Object(n.useState)(!1),a=Object(b.a)(t,2),r=a[0],s=a[1],c=Object(n.useState)(),o=Object(b.a)(c,2),i=o[0],l=o[1],d=Object(n.useState)(),u=Object(b.a)(d,2),O=u[0],f=u[1],m=Object(n.useState)(),x=Object(b.a)(m,2),p=x[0],L=x[1],N=function(){s(!1)};return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(v.a,{size:"sm",className:"mb-2 create-new-books",children:Object(S.jsx)(h.a,{className:"btn-fill pull-right",type:"submit",variant:"info",onClick:function(){return s(!0)},children:"Create New Library"})}),Object(S.jsxs)(y.a,{size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:r,onHide:N,children:[Object(S.jsx)(y.a.Header,{closeButton:!0,children:Object(S.jsx)(y.a.Title,{children:"Add Library "})}),Object(S.jsx)(y.a.Body,{children:Object(S.jsx)(j.a,{fluid:!0,children:Object(S.jsx)(k.a,{children:Object(S.jsx)(g.a,{md:"12",children:Object(S.jsx)(_.a,{children:Object(S.jsx)(_.a.Body,{children:Object(S.jsxs)(C.a,{children:[Object(S.jsx)(k.a,{children:Object(S.jsx)(g.a,{md:"12",children:Object(S.jsxs)(C.a.Group,{children:[Object(S.jsx)("label",{children:"Library Name"}),Object(S.jsx)(C.a.Control,{defaultValue:"",placeholder:"Library Name",type:"text",value:i,onChange:function(e){return l(e.target.value)}})]})})}),Object(S.jsxs)(k.a,{children:[Object(S.jsx)(g.a,{className:"pr-1",md:"6",children:Object(S.jsxs)(C.a.Group,{children:[Object(S.jsx)("label",{children:"Location"}),Object(S.jsx)(C.a.Control,{defaultValue:"",placeholder:"Location",type:"text",value:O,onChange:function(e){return f(e.target.value)}})]})}),Object(S.jsx)(g.a,{className:"pl-1",md:"6",children:Object(S.jsxs)(C.a.Group,{children:[Object(S.jsx)("label",{children:"Owner"}),Object(S.jsx)(C.a.Control,{defaultValue:"",placeholder:"Owner",type:"select",value:p,onChange:function(e){return L(e.target.value)}})]})})]}),Object(S.jsx)("div",{className:"clearfix"})]})})})})})})}),Object(S.jsxs)(y.a.Footer,{children:[Object(S.jsx)(h.a,{variant:"secondary",onClick:N,children:"Close"}),Object(S.jsx)(h.a,{variant:"primary",onClick:function(){s(!1),e.create_library(i,O,p)},children:"Save"})]})]})]})}function E(e){var t=Object(n.useState)(!0),a=Object(b.a)(t,2),r=a[0],s=a[1],c=Object(n.useState)(!1),o=Object(b.a)(c,2),i=(o[0],o[1],Object(n.useState)()),l=Object(b.a)(i,2);l[0],l[1];return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(y.a,{size:"xl","aria-labelledby":"contained-modal-title-vcenter",show:r,onHide:function(){s(!1)},children:[Object(S.jsx)(y.a.Header,{closeButton:!0,children:Object(S.jsxs)(y.a.Title,{children:[" ",e.selectedLibrary.library_name," "]})}),Object(S.jsx)(y.a.Body,{children:Object(S.jsx)(j.a,{fluid:!0,children:Object(S.jsx)(k.a,{children:Object(S.jsx)(g.a,{md:"12",children:Object(S.jsx)(_.a,{children:Object(S.jsx)(_.a.Body,{children:Object(S.jsx)(C.a,{children:Object(S.jsxs)(L.a,{className:"table-hover table-striped",children:[Object(S.jsx)("thead",{children:Object(S.jsxs)("tr",{children:[Object(S.jsx)("th",{className:"border-0",children:"Name"}),Object(S.jsx)("th",{className:"border-0",children:"Description"}),Object(S.jsx)("th",{className:"border-0",children:"Author"})]})}),Object(S.jsx)("tbody",{children:e.selectedLibraryBooks.map((function(e){return Object(S.jsx)(z,{list:e})}))})]})})})})})})})}),Object(S.jsx)(y.a.Footer,{})]})})}var I=function(e){Object(x.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(f.a)(this,a),(r=t.call(this,e)).create_library=function(e,t,a){var n=[];return n.push({library_name:e,location:t,owner:a}),fetch("https://codingchallenge.jabezonline.net/laravel/public/api/libraries/store",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({library:n})}).then((function(e){return e.json()})).then((function(e){r.load_library()})).catch((function(e){console.error(e)}))},r.seachEvents=function(e){var t=e.target.value.toLowerCase();r.setState({searchQuery:t},(function(){return r.filterList()}))},r.rent_books=function(e,t,a){var n=[];return n.push({book_id:e,customer_id:t,return_date:a}),fetch("https://codingchallenge.jabezonline.net/laravel/public/api/rental/store",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({rents:n})}).then((function(e){return e.json()})).then((function(t){var a=r.state.books.findIndex((function(t){return t.id===e}));r.state.books[a].status=1,r.filterList()})).catch((function(e){console.error(e)}))},r.open_library_form=function(e){r.setState({selectedLibraryBooks:[]}),fetch("https://codingchallenge.jabezonline.net/laravel/public/api/books/getbooks/"+e.id).then((function(e){return e.json()})).then((function(t){r.setState({selectedLibraryBooks:[]});var a,n=Object(O.a)(t);try{for(n.s();!(a=n.n()).done;){var s=a.value;r.state.selectedLibraryBooks.push(s)}}catch(c){n.e(c)}finally{n.f()}r.setState({selectedLibraryBooks:r.state.selectedLibraryBooks,showLibraryForm:!r.state.showLibraryForm,selectedLibrary:e})}),(function(e){}))},r.load_customers=function(){fetch("https://codingchallenge.jabezonline.net/laravel/public/api/customers").then((function(e){return e.json()})).then((function(e){var t,a=Object(O.a)(e);try{for(a.s();!(t=a.n()).done;){var n=t.value;r.state.customers.push({value:n.id,label:n.first_name+" "+n.last_name})}}catch(s){a.e(s)}finally{a.f()}r.setState({customers:r.state.customers})}),(function(e){r.setState({isLoaded:!0,error:e})}))},r.load_library=function(){r.setState({libraries:[]}),fetch("https://codingchallenge.jabezonline.net/laravel/public/api/libraries").then((function(e){return e.json()})).then((function(e){var t,a=Object(O.a)(e);try{for(a.s();!(t=a.n()).done;){var n=t.value;r.state.libraries.push(n)}}catch(s){a.e(s)}finally{a.f()}r.setState({libraries:r.state.libraries},r.filterList)}),(function(e){r.setState({isLoaded:!0,error:e})}))},r.state={customers:[],libraries:[],books:[],filteredBooks:[],selectedLibrary:[],selectedLibraryBooks:[],searchQuery:"",showLibraryForm:!1},r}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.load_library()}},{key:"filterList",value:function(){var e=this.state.libraries,t=this.state.searchQuery;e=e.filter((function(e){return-1!=e.library_name.toLowerCase().indexOf(t)})),this.setState({filteredBooks:e})}},{key:"list_sort",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";switch(e){case"library_name":this.setState({filteredBooks:this.state.filteredBooks.sort((function(e,t){return e.library_name.toLowerCase()<t.library_name.toLowerCase()?-1:e.library_name.toLowerCase()>t.library_name.toLowerCase()?1:0}))});break;case"location":this.setState({filteredBooks:this.state.filteredBooks.sort((function(e,t){return e.location.toLowerCase()<t.location.toLowerCase()?-1:e.location.toLowerCase()>t.location.toLowerCase()?1:0}))});break;case"owner":this.setState({filteredBooks:this.state.filteredBooks.sort((function(e,t){return e.owner.toLowerCase()<t.owner.toLowerCase()?-1:e.owner.toLowerCase()>t.owner.toLowerCase()?1:0}))})}}},{key:"render",value:function(){var e=this;return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(j.a,{fluid:!0,children:Object(S.jsx)(k.a,{children:Object(S.jsxs)(g.a,{md:"12",children:[Object(S.jsxs)(N.a,{className:"mb-3",children:[Object(S.jsx)(w.a,{placeholder:"Search by Library Name","aria-label":"","aria-describedby":"basic-addon2",onChange:this.seachEvents.bind(this)}),Object(S.jsx)(h.a,{variant:"outline-secondary",id:"button-addon2",onClick:function(){e.filterList()},children:"Search"})]}),Object(S.jsxs)(_.a,{className:"strpied-tabled-with-hover",children:[Object(S.jsx)(_.a.Header,{children:Object(S.jsxs)(g.a,{children:[1==this.state.showLibraryForm?Object(S.jsx)(E,{customers:this.state.customers,open_library_form:this.open_library_form,selectedLibrary:this.state.selectedLibrary,selectedLibraryBooks:this.state.selectedLibraryBooks}):null,Object(S.jsx)(D,{libraries:this.state.libraries,create_library:this.create_library})]})}),Object(S.jsx)(_.a.Body,{className:"table-full-width table-responsive px-0",children:Object(S.jsxs)(L.a,{className:"table-hover table-striped",children:[Object(S.jsx)("thead",{children:Object(S.jsxs)("tr",{children:[Object(S.jsx)("th",{className:"border-0",onClick:function(){e.list_sort("library_name")},children:"Name"}),Object(S.jsx)("th",{className:"border-0",onClick:function(){e.list_sort("location")},children:"Location"}),Object(S.jsx)("th",{className:"border-0",onClick:function(){e.list_sort("owner")},children:"Owner"}),Object(S.jsx)("th",{className:"border-0"})]})}),Object(S.jsx)("tbody",{children:this.state.filteredBooks.map((function(t){return Object(S.jsx)(T,{list:t,open_library_form:e.open_library_form})}))})]})})]})]})})})})}}]),a}(s.a.Component),H=a(35);function R(e){var t=new Date(e.list.return_date);return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)("tr",{children:[Object(S.jsx)("td",{children:e.list.books}),Object(S.jsx)("td",{children:e.list.description}),Object(S.jsx)("td",{children:e.list.author_fname+" "+e.list.author_lname}),Object(S.jsx)("td",{children:e.list.library_name}),0==e.list.status?Object(S.jsx)("td",{children:"IN"}):Object(S.jsxs)("td",{children:["Return on ",t.toDateString()]}),Object(S.jsx)("td",{children:Object(S.jsx)(v.a,{size:"sm",className:"mb-2",children:0==e.list.status?Object(S.jsx)(h.a,{variant:"success",onClick:function(){e.open_rent_form(e.list)},children:"Rent"}):null})})]})})}function V(e){var t=Object(n.useState)(!1),a=Object(b.a)(t,2),r=a[0],s=a[1],c=Object(n.useState)(!1),o=Object(b.a)(c,2),i=o[0],l=o[1],d=Object(n.useState)(!1),u=Object(b.a)(d,2),O=u[0],f=u[1],m=Object(n.useState)(),x=Object(b.a)(m,2),p=x[0],L=x[1],N=Object(n.useState)(),w=Object(b.a)(N,2),B=w[0],F=w[1],z=Object(n.useState)(),T=Object(b.a)(z,2),D=T[0],E=T[1],I=Object(n.useState)(),R=Object(b.a)(I,2),V=R[0],A=R[1],G=function(){s(!1)};return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(v.a,{size:"sm",className:"mb-2 create-new-books",children:Object(S.jsx)(h.a,{className:"btn-fill pull-right",type:"submit",variant:"info",onClick:function(){return s(!0)},children:"Create New Books"})}),Object(S.jsxs)(y.a,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:r,onHide:G,children:[Object(S.jsx)(y.a.Header,{closeButton:!0,children:Object(S.jsx)(y.a.Title,{children:"Add Book "})}),Object(S.jsx)(y.a.Body,{children:Object(S.jsx)(j.a,{fluid:!0,children:Object(S.jsx)(k.a,{children:Object(S.jsx)(g.a,{md:"12",children:Object(S.jsx)(_.a,{children:Object(S.jsx)(_.a.Body,{children:Object(S.jsxs)(C.a,{children:[Object(S.jsx)(k.a,{children:Object(S.jsx)(g.a,{md:"12",children:Object(S.jsxs)(C.a.Group,{children:[Object(S.jsx)("label",{children:"Book Title"}),Object(S.jsx)(C.a.Control,{defaultValue:"",placeholder:"Title of the Book",type:"text",value:p,onChange:function(e){return L(e.target.value)}})]})})}),Object(S.jsxs)(k.a,{children:[Object(S.jsx)(g.a,{className:"pr-1",md:"6",children:Object(S.jsxs)(C.a.Group,{children:[Object(S.jsx)("label",{children:"Author Name"}),Object(S.jsx)(C.a.Control,{defaultValue:"",placeholder:"First name",type:"text",value:B,onChange:function(e){return F(e.target.value)}})]})}),Object(S.jsx)(g.a,{className:"pl-1",md:"6",children:Object(S.jsxs)(C.a.Group,{children:[Object(S.jsx)("label",{children:"Author Last Name"}),Object(S.jsx)(C.a.Control,{defaultValue:"",placeholder:"Last name",type:"select",value:D,onChange:function(e){return E(e.target.value)}})]})})]}),Object(S.jsx)(k.a,{children:Object(S.jsx)(g.a,{md:"12",children:Object(S.jsxs)(C.a.Group,{children:[Object(S.jsx)("label",{children:"Description"}),Object(S.jsx)(C.a.Control,{cols:"80",defaultValue:"",placeholder:"Here can be your description",rows:"4",as:"textarea",value:V,onChange:function(e){return A(e.target.value)}})]})})}),Object(S.jsx)(k.a,{children:Object(S.jsxs)(g.a,{md:"12",children:[Object(S.jsx)("label",{children:"Assign to Library"}),Object(S.jsx)(H.a,{options:e.libraries,onChange:function(e){l(e.value),f(e.label)}})]})}),Object(S.jsx)("div",{className:"clearfix"})]})})})})})})}),Object(S.jsxs)(y.a.Footer,{children:[Object(S.jsx)(h.a,{variant:"secondary",onClick:G,children:"Close"}),Object(S.jsx)(h.a,{variant:"primary",onClick:function(){s(!1),e.create_book(p,B,D,V,i,O)},children:"Save"})]})]})]})}function A(e){var t=Object(n.useState)(!0),a=Object(b.a)(t,2),r=a[0],s=a[1],c=Object(n.useState)(!1),o=Object(b.a)(c,2),i=o[0],l=o[1],d=Object(n.useState)(),u=Object(b.a)(d,2),O=u[0],f=u[1];return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(y.a,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,show:r,onHide:function(){s(!1)},children:[Object(S.jsx)(y.a.Header,{closeButton:!0,children:Object(S.jsx)(y.a.Title,{children:" Rent Book "})}),Object(S.jsx)(y.a.Body,{children:Object(S.jsx)(j.a,{fluid:!0,children:Object(S.jsx)(k.a,{children:Object(S.jsx)(g.a,{md:"12",children:Object(S.jsx)(_.a,{children:Object(S.jsx)(_.a.Body,{children:Object(S.jsxs)(C.a,{children:[Object(S.jsx)(k.a,{children:Object(S.jsx)(g.a,{md:"12",children:Object(S.jsxs)(C.a.Group,{children:[Object(S.jsx)("label",{children:"Book Title"}),Object(S.jsx)(C.a.Control,{defaultValue:"",placeholder:"Title of the Book",readOnly:!0,type:"text",value:e.selectedBook.books})]})})}),Object(S.jsxs)(k.a,{children:[Object(S.jsx)(g.a,{className:"pr-1",md:"6",children:Object(S.jsxs)(C.a.Group,{children:[Object(S.jsx)("label",{children:"Author Name"}),Object(S.jsx)(C.a.Control,{defaultValue:"",placeholder:"First name",readOnly:!0,type:"text",value:e.selectedBook.author_fname})]})}),Object(S.jsx)(g.a,{className:"pl-1",md:"6",children:Object(S.jsxs)(C.a.Group,{children:[Object(S.jsx)("label",{children:"Author Last Name"}),Object(S.jsx)(C.a.Control,{defaultValue:"",placeholder:"Last name",readOnly:!0,type:"select",value:e.selectedBook.author_lname})]})})]}),Object(S.jsx)(k.a,{children:Object(S.jsx)(g.a,{md:"12",children:Object(S.jsxs)(C.a.Group,{children:[Object(S.jsx)("label",{children:"Description"}),Object(S.jsx)(C.a.Control,{cols:"80",defaultValue:"",placeholder:"Here can be your description",readOnly:!0,rows:"4",as:"textarea",value:e.selectedBook.description})]})})}),Object(S.jsx)(k.a,{children:Object(S.jsxs)(g.a,{md:"12",children:[Object(S.jsx)("label",{children:"Renter"}),Object(S.jsx)(H.a,{options:e.customers,onChange:function(e){l(e.value)}})]})}),Object(S.jsx)(k.a,{children:Object(S.jsx)(g.a,{md:"12",children:Object(S.jsxs)(C.a.Group,{children:[Object(S.jsx)("label",{children:"Date to return"}),Object(S.jsx)(C.a.Control,{defaultValue:"",placeholder:"Date to return",onChange:function(e){f(e.target.value)},type:"date"})]})})}),Object(S.jsx)("div",{className:"clearfix"})]})})})})})})}),Object(S.jsxs)(y.a.Footer,{children:[Object(S.jsx)(h.a,{variant:"secondary",onClick:function(){s(!1),e.open_rent_form},children:"Close"}),Object(S.jsx)(h.a,{variant:"primary",onClick:function(){s(!1),e.rent_books(e.selectedBook.id,i,O)},children:"Save"})]})]})})}var G=[{path:"/library",name:"Libraries",icon:"nc-icon nc-notes",component:I,layout:"/admin"},{path:"/books",name:"Books",icon:"nc-icon nc-paper-2",component:function(e){Object(x.a)(a,e);var t=Object(p.a)(a);function a(e){var r;return Object(f.a)(this,a),(r=t.call(this,e)).create_book=function(e,t,a,n,s,c){var o=[];return o.push({books:e,description:n,author_fname:t,author_lname:a,library_id:s,library_name:c,status:0}),fetch("https://codingchallenge.jabezonline.net/laravel/public/api/books/store",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({books:o})}).then((function(e){return e.json()})).then((function(e){r.load_books()})).catch((function(e){console.error(e)}))},r.seachEvents=function(e){var t=e.target.value.toLowerCase();r.setState({searchQuery:t},(function(){return r.filterList()}))},r.rent_books=function(e,t,a){var n=[];return n.push({book_id:e,customer_id:t,return_date:a}),fetch("https://codingchallenge.jabezonline.net/laravel/public/api/rental/store",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({rents:n})}).then((function(e){return e.json()})).then((function(t){var n=r.state.books.findIndex((function(t){return t.id===e}));r.state.books[n].status=1,r.state.books[n].return_date=a,r.filterList()})).catch((function(e){console.error(e)}))},r.open_rent_form=function(e){console.log(e),r.setState({showRentForm:!r.state.showRentForm,selectedBook:e})},r.load_customers=function(){fetch("https://codingchallenge.jabezonline.net/laravel/public/api/customers").then((function(e){return e.json()})).then((function(e){var t,a=Object(O.a)(e);try{for(a.s();!(t=a.n()).done;){var n=t.value;r.state.customers.push({value:n.id,label:n.first_name+" "+n.last_name})}}catch(s){a.e(s)}finally{a.f()}r.setState({customers:r.state.customers})}),(function(e){r.setState({isLoaded:!0,error:e})}))},r.load_books=function(){r.setState({books:[]}),fetch("https://codingchallenge.jabezonline.net/laravel/public/api/books").then((function(e){return e.json()})).then((function(e){var t,a=Object(O.a)(e);try{for(a.s();!(t=a.n()).done;){var n=t.value;r.state.books.push(n)}}catch(s){a.e(s)}finally{a.f()}r.setState({books:r.state.books},r.filterList())}),(function(e){r.setState({isLoaded:!0,error:e})}))},r.load_library=function(){fetch("https://codingchallenge.jabezonline.net/laravel/public/api/libraries").then((function(e){return e.json()})).then((function(e){var t,a=Object(O.a)(e);try{for(a.s();!(t=a.n()).done;){var n=t.value;r.state.libraries.push({value:n.id,label:n.library_name})}}catch(s){a.e(s)}finally{a.f()}r.setState({libraries:r.state.libraries})}),(function(e){r.setState({isLoaded:!0,error:e})}))},r.state={customers:[],libraries:[],books:[],filteredBooks:[],selectedBook:[],searchQuery:"",showRentForm:!1},r}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.load_library(),this.load_books(),this.load_customers()}},{key:"filterList",value:function(){var e=this.state.books,t=this.state.searchQuery;e=e.filter((function(e){return-1!=e.books.toLowerCase().indexOf(t)})),this.setState({filteredBooks:e})}},{key:"list_sort",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"books";switch(e){case"author_fname":this.setState({filteredBooks:this.state.filteredBooks.sort((function(e,t){return e.author_fname.toLowerCase()<t.author_fname.toLowerCase()?-1:e.author_fname.toLowerCase()>t.author_fname.toLowerCase()?1:0}))});break;case"description":this.setState({filteredBooks:this.state.filteredBooks.sort((function(e,t){return e.description.toLowerCase()<t.description.toLowerCase()?-1:e.description.toLowerCase()>t.description.toLowerCase()?1:0}))});break;case"library_name":this.setState({filteredBooks:this.state.filteredBooks.sort((function(e,t){return e.library_name.toLowerCase()<t.library_name.toLowerCase()?-1:e.library_name.toLowerCase()>t.library_name.toLowerCase()?1:0}))});case"status":this.setState({filteredBooks:this.state.filteredBooks.sort((function(e,t){return e.status<t.status?-1:0}))});break;case"books":this.setState({filteredBooks:this.state.filteredBooks.sort((function(e,t){return e.books.toLowerCase()<t.books.toLowerCase()?-1:e.books.toLowerCase()>t.books.toLowerCase()?1:0}))})}}},{key:"render",value:function(){var e=this;return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(j.a,{fluid:!0,children:Object(S.jsx)(k.a,{children:Object(S.jsxs)(g.a,{md:"12",children:[Object(S.jsxs)(N.a,{className:"mb-3",children:[Object(S.jsx)(w.a,{placeholder:"Seach book by title","aria-label":"","aria-describedby":"basic-addon2",onChange:this.seachEvents.bind(this)}),Object(S.jsx)(h.a,{variant:"outline-secondary",id:"button-addon2",onClick:function(){e.filterList()},children:"Search"})]}),Object(S.jsxs)(_.a,{className:"strpied-tabled-with-hover",children:[Object(S.jsx)(_.a.Header,{children:Object(S.jsxs)(g.a,{children:[1==this.state.showRentForm?Object(S.jsx)(A,{customers:this.state.customers,open_rent_form:this.open_rent_form,rent_books:this.rent_books,selectedBook:this.state.selectedBook}):null,Object(S.jsx)(V,{libraries:this.state.libraries,create_book:this.create_book})]})}),Object(S.jsx)(_.a.Body,{className:"table-full-width table-responsive px-0",children:Object(S.jsxs)(L.a,{className:"table-hover table-striped",children:[Object(S.jsx)("thead",{children:Object(S.jsxs)("tr",{children:[Object(S.jsx)("th",{className:"border-0",onClick:function(){e.list_sort("books")},children:"Name"}),Object(S.jsx)("th",{className:"border-0",onClick:function(){e.list_sort("description")},children:"Description"}),Object(S.jsx)("th",{className:"border-0",onClick:function(){e.list_sort("author_fname")},children:"Author"}),Object(S.jsx)("th",{className:"border-0",onClick:function(){e.list_sort("library_name")},children:"Library"}),Object(S.jsx)("th",{className:"border-0",onClick:function(){e.list_sort("status")},children:"Status"}),Object(S.jsx)("th",{className:"border-0",children:"Action"})]})}),Object(S.jsx)("tbody",{children:this.state.filteredBooks.map((function(t){return Object(S.jsx)(R,{list:t,open_rent_form:e.open_rent_form})}))})]})})]})]})})})})}}]),a}(s.a.Component),layout:"/admin"},{path:"/user",name:"Renters",icon:"nc-icon nc-circle-09",component:F,layout:"/admin"}];var Q=function(){var e=Object(l.g)();return Object(S.jsx)(d.a,{bg:"light",expand:"lg",children:Object(S.jsxs)(j.a,{fluid:!0,children:[Object(S.jsxs)("div",{className:"d-flex justify-content-center align-items-center ml-2 ml-lg-0",children:[Object(S.jsx)(h.a,{variant:"dark",className:"d-lg-none btn-fill d-flex justify-content-center align-items-center rounded-circle p-2",onClick:function(e){e.preventDefault(),document.documentElement.classList.toggle("nav-open");var t=document.createElement("div");t.id="bodyClick",t.onclick=function(){this.parentElement.removeChild(this),document.documentElement.classList.toggle("nav-open")},document.body.appendChild(t)},children:Object(S.jsx)("i",{className:"fas fa-ellipsis-v"})}),Object(S.jsx)(d.a.Brand,{href:"#home",onClick:function(e){return e.preventDefault()},className:"mr-2",children:function(){for(var t=0;t<G.length;t++)if(-1!==e.pathname.indexOf(G[t].layout+G[t].path))return G[t].name;return"Brand"}()})]}),Object(S.jsxs)(d.a.Toggle,{"aria-controls":"basic-navbar-nav",className:"mr-2",children:[Object(S.jsx)("span",{className:"navbar-toggler-bar burger-lines"}),Object(S.jsx)("span",{className:"navbar-toggler-bar burger-lines"}),Object(S.jsx)("span",{className:"navbar-toggler-bar burger-lines"})]}),Object(S.jsx)(d.a.Collapse,{id:"basic-navbar-nav",children:Object(S.jsxs)(u.a,{className:"ml-auto",navbar:!0,children:[Object(S.jsx)(u.a.Item,{children:Object(S.jsx)(u.a.Link,{className:"m-0",href:"#",onClick:function(e){return e.preventDefault()},children:Object(S.jsx)("span",{className:"no-icon",children:"Account"})})}),Object(S.jsx)(u.a.Item,{children:Object(S.jsx)(u.a.Link,{className:"m-0",href:"#",onClick:function(e){return e.preventDefault()},children:Object(S.jsx)("span",{className:"no-icon",children:"Log out"})})})]})})]})})},J=function(e){Object(x.a)(a,e);var t=Object(p.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return Object(S.jsx)("footer",{className:"footer px-0 px-lg-3",children:Object(S.jsx)(j.a,{fluid:!0,children:Object(S.jsx)("nav",{})})})}}]),a}(n.Component);a.p;var P=function(e){var t=e.color,a=e.image,r=e.routes,n=Object(l.g)();return Object(S.jsxs)("div",{className:"sidebar","data-image":a,"data-color":t,children:[Object(S.jsx)("div",{className:"sidebar-background",style:{backgroundImage:"url("+a+")"}}),Object(S.jsxs)("div",{className:"sidebar-wrapper",children:[Object(S.jsx)("div",{className:"logo d-flex align-items-center justify-content-start",children:Object(S.jsx)("a",{className:"simple-text",href:"#",children:"Sunset Bookstore Co"})}),Object(S.jsx)(u.a,{children:r.map((function(e,t){return e.redirect?null:Object(S.jsx)("li",{className:e.upgrade?"active active-pro":(a=e.layout+e.path,n.pathname.indexOf(a)>-1?"active":""),children:Object(S.jsxs)(i.b,{to:e.layout+e.path,className:"nav-link",activeClassName:"active",children:[Object(S.jsx)("i",{className:e.icon}),Object(S.jsx)("p",{children:e.name})]})},t);var a}))})]})]})},M=(a.p,a.p,a.p+"static/media/sidebar-3.9992d0ce.jpg");a.p;var W=function(e){return e.hasImage,e.setHasImage,e.color,e.setColor,e.image,e.setImage,null};var q=function(){var e,t=s.a.useState(M),a=Object(b.a)(t,2),n=a[0],c=a[1],o=s.a.useState("black"),i=Object(b.a)(o,2),d=i[0],j=i[1],h=s.a.useState(!0),u=Object(b.a)(h,2),O=u[0],f=u[1],m=Object(l.g)(),x=s.a.useRef(null);return s.a.useEffect((function(){if(document.documentElement.scrollTop=0,document.scrollingElement.scrollTop=0,x.current.scrollTop=0,window.innerWidth<993&&-1!==document.documentElement.className.indexOf("nav-open")){document.documentElement.classList.toggle("nav-open");var e=document.getElementById("bodyClick");e.parentNode.removeChild(e)}}),[m]),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("div",{className:"wrapper",children:[Object(S.jsx)(P,{color:d,image:O?n:"",routes:G}),Object(S.jsxs)("div",{className:"main-panel",ref:x,children:[Object(S.jsx)(Q,{}),Object(S.jsx)("div",{className:"content",children:Object(S.jsx)(l.d,{children:(e=G,e.map((function(e,t){return"/admin"===e.layout?Object(S.jsx)(l.b,{path:e.layout+e.path,render:function(t){return Object(S.jsx)(e.component,Object(r.a)({},t))}},t):null})))})}),Object(S.jsx)(J,{})]})]}),Object(S.jsx)(W,{hasImage:O,setHasImage:function(){return f(!O)},color:d,setColor:function(e){return j(e)},image:n,setImage:function(e){return c(e)}})]})};o.a.render(Object(S.jsx)(i.a,{children:Object(S.jsxs)(l.d,{children:[Object(S.jsx)(l.b,{path:"/admin",render:function(e){return Object(S.jsx)(q,Object(r.a)({},e))}}),Object(S.jsx)(l.a,{from:"/",to:"/admin/books"})]})}),document.getElementById("root"))}},[[87,1,2]]]);
//# sourceMappingURL=main.c77f90db.chunk.js.map